<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Surprise for Narmatha</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Outfit:wght@300;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- Stage 1: Welcome / Entrance -->
    <section id="welcome-stage" class="stage active">
        <div class="content">
            <h1>A Special Surprise</h1>
            <p>For Narmatha</p>
            <button id="enter-btn" class="btn">Tap to Start</button>
        </div>
    </section>

    <!-- Stage 2: Balloons -->
    <section id="balloon-stage" class="stage hidden">
        <canvas id="confetti-canvas"></canvas>
        <div class="instructions">Pop the balloons! ðŸŽˆ</div>
        <div id="balloon-container"></div>
    </section>

    <!-- Stage 3: Countdown -->
    <section id="countdown-stage" class="stage hidden">
        <div class="content">
            <h2>The Big Moment Approaches</h2>
            <div id="timer" class="timer">
                <div class="time-unit"><span id="days">00</span><label>Days</label></div>
                <div class="time-unit"><span id="hours">00</span><label>Hours</label></div>
                <div class="time-unit"><span id="minutes">00</span><label>Mins</label></div>
                <div class="time-unit"><span id="seconds">00</span><label>Secs</label></div>
            </div>
            <div id="countdown-message" class="hidden">It's Time!</div>
        </div>
    </section>

    <!-- Stage 4: Cake -->
    <section id="cake-stage" class="stage hidden">
        <div class="content">
            <h2>Make a Wish!</h2>
            <p class="subtitle">(Blow into your mic or click the candles)</p>
            <div class="cake-container">
                <div class="cake">
                    <div class="plate"></div>
                    <div class="layer layer-bottom"></div>
                    <div class="layer layer-middle"></div>
                    <div class="layer layer-top"></div>
                    <div class="icing"></div>
                    <div class="drip drip1"></div>
                    <div class="drip drip2"></div>
                    <div class="drip drip3"></div>
                    <div class="candle">
                        <div class="flame"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Stage 5: Puzzle -->
    <section id="puzzle-stage" class="stage hidden">
        <div class="content">
            <h2>Unlock Your Gift ðŸ§©</h2>
            <div id="puzzle-container" class="puzzle-grid">
                <!-- Tiles generated by JS -->
            </div>
        </div>
    </section>

    <!-- Stage 6: Final Reveal -->
    <section id="reveal-stage" class="stage hidden">
        <div class="content">
            <h1 class="glow-text">Happy Birthday Narmatha!</h1>
            <div id="photo-deck" class="photo-deck">
                <!-- Stacked in reverse order of display so last in DOM is on top? Or absolute positioning z-index managed. 
                     Let's use Array order in JS to manage z-index or standard stacking context (last is top).
                     We want Main Photo on TOP. So it should be last.
                -->
                <div class="card" style="background-image: url('assets/img/5.jpg')"></div>
                <div class="card" style="background-image: url('assets/img/4.jpg')"></div>
                <div class="card" style="background-image: url('assets/img/3.jpg')"></div>
                <div class="card" style="background-image: url('assets/img/2.jpg')"></div>
                <div class="card" style="background-image: url('assets/img/1.jpg')"></div>
                <div class="card active" style="background-image: url('assets/img/7.jpg')">
                    <div class="caption">Narmatha</div>
                </div>
            </div>
            <p class="instruction-text">Swipe / Drag the photos</p>
            <p class="message">"let's start us again new"</p>
        </div>
    </section>

    <!-- Audio (Hidden) -->
    <audio id="bg-music" loop>
        <source src="assets/audio/bg-music.mp3" type="audio/mpeg">
    </audio>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="script.js"></script>
</body>

</html>